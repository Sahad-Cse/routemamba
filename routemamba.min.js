(()=>{"use strict";new class extends class{constructor(){this.error=[]}__render_DOM_root(e){document.querySelector("body").innerHTML=e}__render_DOM(e,t){e.innerHTML=t}__render_DOM_head(e){document.querySelector("head").innerHTML=e}__parse_object_to_param(e){let t="";if(null!=e){let r=Object.keys(e),s=Object.values(e);for(let e=0;e<r.length;e++)t+=r[e]+"="+s[e],r.length-1!=e&&(t+="&")}return t}__parse_object_to_param(e){let t="";if(null!=e){let r=Object.keys(e),s=Object.values(e);for(let e=0;e<r.length;e++)t+=r[e]+"="+s[e],r.length-1!=e&&(t+="&")}return t}parse_query_string(e){let t=e.split("&"),r={};for(let e=0;e<t.length;e++){let s=t[e].split("="),o=decodeURIComponent(s[0]),l=decodeURIComponent(s[1]);if(void 0===r[o])r[o]=decodeURIComponent(l);else if("string"==typeof r[o]){let e=[r[o],decodeURIComponent(l)];r[o]=e}else r[o].push(decodeURIComponent(l))}return r}validURL(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}__init_routemamba(e,t,r,s="",o="",l="",n,_=!1,i="",a=""){if(document.querySelector(r),""!=i)if(-1!==i.indexOf("http://127.0.0.1")||-1!==i.indexOf("http://localhost")||this.validURL(i))if(-1!==i.indexOf("https://www.")||-1!==i.indexOf("http://www.")){let e=window.location.href.split("/"),t="";for(let r=0;r<3;r++)t+=1==r?"//":e[r];t+="/",a==i&&(a=t),i=t}else if(-1!==i.indexOf("http://127.0.0.1")||-1!==i.indexOf("http://localhost")){let e=window.location.href;-1!==e.indexOf("http://127.0.0.1")?-1!==i.indexOf("http://localhost")&&(i=i.replace("http://localhost","http://127.0.0.1")):-1!==e.indexOf("http://localhost")&&-1!==i.indexOf("http://127.0.0.1")&&(i=i.replace("http://127.0.0.1","http://localhost"))}else{let e=window.location.href,t=i.split("/"),r="";for(let s=0;s<t.length;s++)0==s&&"https:"==t[s]||"http:"==t[s]?r=t[s]+"/":1!=s||-1===e.indexOf("https://www.")&&-1===i.indexOf("http://www.")?""!=t[s]?r+=t[s]:r+="/":r+="www.";a==i&&(a=r),i=r}else alert("The server host is invalid");if(0!=_&&null!=a&&"route"==n&&window.history.pushState(i,"",a),""!=r&&""!=t){const n=new XMLHttpRequest;if(n.onprogress=function(){null!=s&&""!=s&&(document.querySelector(r).innerHTML=s)},n.onload=function(){document.querySelector(r).innerHTML=this.responseText},n.onerror=function(){document.querySelector(r).innerHTML=o},"POST"==e){let e=Object.keys(l),t=Object.values(l);l="";for(let r=0;r<e.length;r++)l+=`${e[r]}=${t[r]}`,r!=e.length-1&&(l+="&")}else if("GET"==e){if(""!=l)if(t.includes("?")){let e=t.split("?");""!=e[e.length-1]&&(t+="&")}else t+="?";let e=Object.keys(l),r=Object.values(l);for(let s=0;s<e.length;s++)t+=`${e[s]}=${r[s]}`,s!=e.length-1&&(t+="&")}n.open(e,t),"POST"==e&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(l)}}}{constructor(){super(),this.engine=!0,this.__init_error=[],this.server_host,this.meta_content_url,this.preloader,this.error_head='<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ERROR</title><link rel="stylesheet" href="./src-v2/css/main.css"></link>',this.__404_url='<div class="error_body"><div class="error_card"><div class="error_header"><h1>404 HTTP URL</h1></div><div class="error_desc"><p><p class="red-box">Elevator rendering error !!</p>Did you forget to declare <span class="red-box">http_url</span> on: </p><code class="bg-code"><span class="r">elevator</span><span class="c">.</span><span class="b">route</span><span class="w">({</span><br><br>&nbsp&nbsp <span class="w">http_url:</span> <b class="red-box-l">undefined</b> &nbsp <b class="red"><<-- error !(undefined)</b><br><br><span class="w">});</span></code><p>Set <span class="red-box">http_url</span> to solve this problem</p><hr><p>Developed by: Rezwan Ahmod Sami</p></div></div></div>',this.__404_server_host='<div class="error_body"><div class="error_card"><div class="error_header"><h1>404 SERVER HOST</h1></div><div class="error_desc"><p><p class="red-box">Elevator rendering error !!</p>Did you forget to declare <span class="red-box">server_host</span> on: </p><code class="bg-code"><span class="r">elevator</span><span class="c">.</span><span class="b">server_host</span><span class="w">&nbsp=</span>&nbsp<b class="red-box-l">undefined</b> &nbsp <b class="red"><<-- error!!!</b><br><br></span></code><p>Set <span class="red-box">server_host</span> to solve this problem</p><hr><p>Developed by: Rezwan Ahmod Sami</p></div></div></div>',this.error_404,this.error_400,this.error_500,this.construct_routes=[],this.construct_headers=[],this.construct_footers=[]}route(e){let t=e.method,r=e.content_url,s=e.component,o=e.preloader,l=e.error_handler,n=e.data,_=e.http_url_change,i=e.http_url,a=e.meta_loader,h="",d="route";null!=e.type&&(d=e.type),null!=i?h=i.split("?"):(this.__render_DOM_head(this.error_head),this.__render_DOM_root(this.__404_url)),null!=h[1]&&(n=this.parse_query_string(h[1]),r=r+"?"+this.__parse_object_to_param(n)),1==a&&this.meta_loader(i),null!=_&&0==_?this.__init_routemamba(t,r,s,o,l,n,d):1==_&&(null!=this.server_host&&""!=this.server_host?null!=i?this.__init_routemamba(t,r,s,o,l,n,d,_,this.server_host,i):(this.__render_DOM_head(this.error_head),this.__render_DOM_root(this.__404_url)):(this.__render_DOM_head(this.error_head),this.__render_DOM_root(this.__404_server_host)))}http_routes(e){let t=Object.keys(e),r=Object.values(e);for(let e=0;e<t.length;e++)this.construct_routes[t[e]]=r[e];window.addEventListener("popstate",(e=>{this.__history_routes_handler(!0)}))}__history_routes_handler(e){if(1==e){let e=window.location.href.split("/"),t=e[e.length-1].split("?"),r="";null!=t[1]&&(r=this.parse_query_string(t[1]));let s=this.__parse_object_to_param(r);this.construct_routes.forEach((e=>{if(e.http_url==t[0]){if("GET"==e.method){let t=e.content_url.split("?");e.content_url=`${t[0]}?`+s}this.__render_header(),this.route(e),this.__render_footers()}}))}}pop_route(){history.back(),window.addEventListener("popstate",(e=>{this.__history_routes_handler(!0)}))}push_route(){history.go(1),window.addEventListener("popstate",(e=>{this.__history_routes_handler(!0)}))}header_load(e){e.method="GET",e.http_url_change=!1,e.type="header";let t=e.http_url.split("/"),r=t[t.length-1].split("?");null!=r[1]&&(e.data=this.parse_query_string(r[1])),this.route(e)}footer_load(e){e.method="GET",e.data="",e.http_url_change=!1,e.type="footer";let t=e.http_url.split("/"),r=t[t.length-1].split("?");null!=r[1]&&(e.data=this.parse_query_string(r[1])),this.route(e)}page_headers_content(e){let t=Object.keys(e),r=Object.values(e);for(let e=0;e<t.length;e++)this.construct_headers[t[e]]=r[e]}page_footers_content(e){let t=Object.keys(e),r=Object.values(e);for(let e=0;e<t.length;e++)this.construct_footers[t[e]]=r[e]}meta_loader(e){if(null!=this.meta_content_url&&""!=this.meta_content_url){let t=window.location.href,r=t.split("/"),s=r[r.length-1].split("?"),o="",l={};if(null==e||""==e){let e=t.split("/"),r=e[e.length-1].split("?");o=s[0],r.length>1&&(l=this.parse_query_string(r[1])),l.route=o}else{let t=e.split("/"),r=t[t.length-1].split("?");r.length>1&&(l=this.parse_query_string(r[1])),o=r[0],l.route=o}let n="GET",_=this.meta_content_url,i="head meta",a="",h="",d="meta",p=l;this.__init_routemamba(n,_,i,a,h,p,d)}else this.__render_DOM_root("define meta content")}__render_header(){let e=window.location.href.split("/"),t=e[e.length-1].split("?"),r="";null!=t[1]&&(r=this.parse_query_string(t[1]));let s=this.__parse_object_to_param(r);this.construct_headers,this.construct_headers.forEach((e=>{if(e.http_url==t[0]){if("GET"==e.method){let t=e.content_url.split("?");e.content_url=`${t[0]}?`+s}e.meta_loader=!1,this.route(e)}}))}__render_body(){let e=window.location.href.split("/"),t=e[e.length-1].split("?"),r="";null!=t[1]&&(r=this.parse_query_string(t[1]));let s=this.__parse_object_to_param(r);this.construct_routes.forEach((e=>{if(e.http_url==t[0]){if("GET"==e.method){let t=e.content_url.split("?");e.content_url=`${t[0]}?`+s}e.meta_loader=!1,this.route(e)}}))}__render_footers(){let e=window.location.href.split("/"),t=e[e.length-1].split("?"),r="";null!=t[1]&&(r=this.parse_query_string(t[1]));let s=this.__parse_object_to_param(r);this.construct_footers.forEach((e=>{if(e.http_url==t[0]){if("GET"==e.method){let t=e.content_url.split("?");e.content_url=`${t[0]}?`+s}e.meta_loader=!1,this.route(e)}}))}__render(){this.meta_loader(),this.__render_header(),this.__render_body(),this.__render_footers()}}})();